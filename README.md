# Учебный проект для изучения работы с Node.js и MongoDB с публикацией на реальном сервере.
## Версия: v.0.0.1 "my first version".
### автор: *Андрей Бородин*, e-mail: _flyer29@bk.ru._
#### ссылка на репозиторий проекта: https://github.com/flyer29/node-deploy
#### ссылка для тестирования приложения с помощью Postman на сервере: https://www.mybackend.tk
#### IP-адрес: 178.154.227.196
-------------------------------------------------------

Этот учебный проект создан для закрепления навыков работы с **Node.js**, **Express.js**, **MongoDB**.
Технологии, использованные в проекте:
+ Java Script;
+ Git;
+ GitHub;
+ NPM;
+ Node.js;
+ Express.js;
+ MongoDB;
+ Mongoose;
+ Winston;
+ Celebrate/Joi;
+ YandexCloud;
+ pm2;
+ ngnix;

Запуск проекта:
1. Клонируйте репозиторий на свой компьютер:
    * нажать **_Clone_** на странице репозитория;
    * скопировать команду в буфер обмена;
    * открыть терминмал на Вашем компьютере;
    * создать директорию(папку) для проекта;
    * с помощью терминала выполнить команду _'git clone [скопированная ссылка на репозиторий]'_ в созданной директории;
2. Если у Вас не установлен Node.js, то скачайте соответствующую вашей операционной системе версию по ссылке: https://nodejs.org/ и установите её на свой компьютер;
3. Скачайте и установите на своём компьютере MongoDB: https://www.mongodb.com/try/download/community;
4. Перейдите с помощью терминала в папку со скачанным репозиторием и установите все зависимости, выполнив команду _'npm i'_;
5. После установки MongoDB запустите базу данных командой _mongod_ в терминале;
6. В программе MongoDBCompassCommunity база данных будет доступна по адресу: **mongodb://localhost:27017/mestodb**;
6. Запустите проект в режиме разработки с хотрелоудом командой _'npm run dev'_, в режиме production командой _'npm run start'_;
7. Для работы с запросами к базе данных, удобно использовать Postman. Если этой программы у Вас ещё нет, то её можно скачать по ссылке: https://www.getpostman.com/downloads;
8. Протестировать API проекта можно указав адрес _localhost:3000_ в адресной строке Postman и соответствующий роут:
    * GET /users (получить всех пользователей);
    * POST /signup (регистрация нового пользователя- в теле запроса отправить объект, например
      ```javascript
      {
         "name": "Anakin Skywalker",
         "about": "Jedi Knight",
         "avatar": "https://somelink.com",
         "email": "someemail@gmail.com",
         "password": "somepassword"
      }
      ```
      );
    * POST /signin (залогиниться- в теле запроса отправить объект, например
    ```javascript
      {
         "email": "someemail@gmail.com",
         "password": "somepassword"
      }
      ```
      );
    * GET /users/:id (получить конкретного пользователя по его id);
    * PATCH /users/me (обновить профиль- в теле запроса отправить объект, например
      ```javascript 
      {
          "name": "Darth Vader",
          "about": "Dark Lord"
      }
      ```
      );
    * PATCH /users/me/avatar (обновить аватар пользователя- в теле запроса отправить объект, например 
      ```javascript
      {
          "avatar": "https://somenewavatarlink.com"
      }
      ```
      );
    * GET /cards (получить все карточки);
    * POST /cards (создать новую карточку- в теле запроса отправить объект, например 
      ```javascript
      {
          "name": "some new card",
          "link": "https://somecardlink.com"
      }
      ```
      );
    * PUT /cards/:id/likes (добавить лайк карточке по её id);
    * DELETE /cards/:id/likes (удалить поставленный лайк карточке по её id);
    * DELETE /cards/:id (удалить карточку по её id);
    * GET/crash-test (для тестирования работы pm2 и восстановления работы сервера после падения);

В проекте нельзя удалить карточки, созданные другими пользователями.
 Для всех роутов, кроме _/signup_ и _/signin_ требуется авторизация. Пароль хешируется и не
  отдается в ответе, а создаваемый при регистрации токен записывается в cookie.

Вы также можете протестировать проект на сервере, не скачивая репозиторий и не устанавливая
 приложения, просто указав в адресной строке Postman ссылку на работающий проект в сети: https://mybackend.tk 
 либо по IP-адресу: 178.154.227.196
 
Приятного использования!
